% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/1.4_function_detection_range_models.R
\name{create_logistic_curve_depth}
\alias{create_logistic_curve_depth}
\title{generate detection range models
Create logistic curve for detection efficiency with depth extrapolation}
\usage{
create_logistic_curve_depth(
  min_depth,
  max_depth,
  d50_min_depth,
  d95_min_depth,
  d50_max_depth,
  d95_max_depth,
  dist_step = 5,
  depth_step = 1,
  color_option = "magma",
  plot = TRUE,
  return_model = TRUE,
  return_object = TRUE
)
}
\arguments{
\item{min_depth}{Numeric. Minimum depth in meters for the model.}

\item{max_depth}{Numeric. Maximum depth in meters for the model.}

\item{d50_min_depth}{Numeric. Distance (m) at which detection efficiency = 50\%
at minimum depth.}

\item{d95_min_depth}{Numeric. Distance (m) at which detection efficiency = 95\%
at minimum depth.}

\item{d50_max_depth}{Numeric. Distance (m) at which detection efficiency = 50\%
at maximum depth.}

\item{d95_max_depth}{Numeric. Distance (m) at which detection efficiency = 95\%
at maximum depth.}

\item{dist_step}{Numeric. Distance step size for grid predictions. Default is 5.}

\item{depth_step}{Numeric. Depth step size for grid predictions. Default is 1.}

\item{color_option}{Character. Viridis color palette option for plots.
Default is "magma".}

\item{plot}{Logical. Whether to display visualization plots. Default is TRUE.}

\item{return_model}{Logical. Whether to fit and return a logistic regression model.
Default is TRUE.}

\item{return_object}{Logical. Whether to return the complete function object.
Default is TRUE.}
}
\value{
If return_object = TRUE, returns a list containing:
\item{func}{The logistic function for calculating detection efficiency}
\item{predict_grid}{Function for generating prediction grids}
\item{predictions}{Data frame with distance, depth, and DE predictions}
\item{params}{List of input parameters}
\item{log_model}{Fitted logistic regression model (if return_model = TRUE)}
\item{line_plot}{ggplot2 line plot object (if plot = TRUE)}
\item{heatmap_plot}{ggplot2 heatmap object (if plot = TRUE)}
\item{combined_plot}{Combined plot using patchwork (if plot = TRUE)}

If return_object = FALSE, returns invisibly or displays plots only.
}
\description{
Generates a logistic detection efficiency model that varies with both distance
and depth. The function interpolates d50 and d95 parameters linearly between
minimum and maximum depths, creating a 3D detection efficiency surface.
}
\details{
The function creates a logistic detection efficiency model where:
\itemize{
\item d50 and d95 parameters vary linearly with depth
\item Detection efficiency = 1 / (1 + exp(a + b * distance))
\item b = 2.944 / (d95 - d50)
\item a = -b * d50
}

The model assumes that detection efficiency decreases with distance and that
the detection range changes with depth in a predictable manner.
}
\examples{
\dontrun{
# Create a basic detection efficiency model
de_model <- create_logistic_curve_depth(
  min_depth = 2,
  max_depth = 30,
  d50_min_depth = 50,
  d95_min_depth = 20,
  d50_max_depth = 150,
  d95_max_depth = 60
)

# Use the model to predict detection efficiency
efficiency <- de_model$func(dist_m = 100, depth_m = 15)

# Generate custom predictions
custom_grid <- de_model$predict_grid(
  dist_range = seq(0, 200, by = 10),
  depth_range = seq(5, 25, by = 2)
)

# Create model without plots
de_model_quiet <- create_logistic_curve_depth(
  min_depth = 2, max_depth = 30,
  d50_min_depth = 50, d95_min_depth = 20,
  d50_max_depth = 150, d95_max_depth = 60,
  plot = FALSE
)
}

}
\seealso{
\code{\link{generate_random_points}}, \code{\link{generate_spaced_points}}
}
